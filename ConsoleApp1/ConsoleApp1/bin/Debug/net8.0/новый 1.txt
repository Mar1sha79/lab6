1. Что такое ядро ОС?
Ядро ОС — это центральная и самая главная часть операционной системы, работающая в привилегированном режиме (режиме ядра).
Оно выступает посредником между аппаратурой компьютера и прикладными программами.
Основные функции ядра включают управление процессами, управление памятью, управление устройствами через драйверы, управление файловыми системами,
обеспечение безопасности и контроля доступа, а также обработку системных вызовов.
Можно представить ядро как правительство компьютера: оно управляет всеми ресурсами и предоставляет сервисы программам для их эффективной и изолированной работы.


2. Что такое системные вызовы (system calls)?
Системный вызов — это запрос от программы, работающей в пользовательском режиме, к ядру ОС для выполнения привилегированной операции,
которую сама программа выполнить не может. Они нужны для безопасности и стабильности, так как пользовательские программы не имеют прямого доступа к аппаратуре.
Примеры системных вызовов: read(), write() (работа с файлами), fork() (создание процесса).
Процесс работы: программа помещает аргументы в регистры, выполняет специальную инструкцию процессора, вызывающую прерывание;
процессор переключается в режим ядра, ядро проверяет и выполняет запрос, затем возвращает управление и результат программе.


3. Пользовательский и привилегированный режимы работы ОС
Это два уровня привилегий, поддерживаемых аппаратно процессором.
В пользовательском режиме программы имеют ограниченный доступ: только к своему адресному пространству, без прямого доступа к аппаратуре и привилегированным инструкциям.
Здесь работают все прикладные программы. Режим ядра (привилегированный режим) дает полный доступ ко всей памяти, аппаратуре и всем инструкциям процессора.
В этом режиме работает само ядро ОС и драйверы. Переключение между режимами происходит при системных вызовах, прерываниях и возврате из обработчиков.
Основная цель разделения — безопасность: ошибка в пользовательской программе не приводит к краху всей системы.


4. Прерывания и исключения
Это механизмы, которые немедленно прерывают выполнение процессором текущей инструкции для обработки события.
Прерывания — асинхронные события, поступающие от внешних устройств (нажатие клавиши, приход сетевого пакета, тик таймера).
Исключения — синхронные события, возникающие при выполнении самой инструкции (деление на ноль, обращение к недопустимой памяти).
Обработчики прерываний и исключений находятся в ядре. Прерывания обычно обрабатываются, и выполнение программы продолжается, а исключения могут привести к завершению программы.
Этот механизм лежит в основе многозадачности и реакции системы на внешние события.


1. "В Linux всё — файл". Что это значит?
Это принцип UNIX, означающий, что единый интерфейс в виде файлов используется для доступа к самым разным объектам.
Как файлы представлены: обычные файлы и директории с данными на диске; устройства (например, /dev/sda — диск, /dev/tty — терминал);
информация о процессах в /proc/; системная информация в /sys/; сокеты и именованные каналы для межпроцессного взаимодействия.
Преимущество — унификация: программы для работы с файлами (cat, echo) могут взаимодействовать с устройствами и системой.
Например, echo 1 > /sys/class/leds/.../brightness включит светодиод, а cat /proc/cpuinfo покажет информацию о процессоре.


2. Что такое операционная система реального времени (ОСРВ)? Пример.
ОСРВ — это система, гарантирующая выполнение критических задач в строго заданные, предсказуемые временные рамки.
Ключевое — не скорость, а детерминированность и надежность отклика.
Бывает двух типов: жесткого реального времени, где нарушение сроков — фатальный сбой (управление тормозами, автопилот), и мягкого реального времени,
где нарушение приводит к деградации качества (потоковое видео). Пример такой ОС —  QNX (микроядерная, надежная, используется в автомобилях и медоборудовании).


3. Чем многопользовательская ОС отличается от однопользовательской?
Разница не только в количестве пользователей, а в архитектурных принципах.
Многопользовательская ОС построена вокруг изоляции, безопасности и управления ресурсами для каждого пользователя.
В ней есть четкое разделение процессов по пользователям, жесткая изоляция адресных пространств, сложная система прав доступа к файлам (rwx),
обязательная аутентификация (логин/пароль), квотирование ресурсов (диск, CPU). В однопользовательской ОС (как старые DOS) цель — удобство для одного человека,
изоляция минимальна, защиты от злонамеренных действий практически нет.


4. Что такое виртуализация и два типа гипервизора + примеры.
Виртуализация — создание на одном физическом компьютере нескольких изолированных виртуальных машин.
Гипервизор — программный слой, управляющий ими. Гипервизор типа 1 (bare-metal) устанавливается прямо на "голое железо" и сам является минималистичной ОС.
Он обеспечивает высокую производительность и используется в дата-центрах. Примеры: VMware ESXi, Microsoft Hyper-V (в режиме сервера), KVM.
Гипервизор типа 2 (hosted) устанавливается как приложение внутри обычной ОС (Windows, Linux).
Он удобнее для разработки и тестирования, но менее производителен. Примеры: Oracle VirtualBox, VMware Workstation/Fusion.


5. Рассказать про UNIX, POSIX и почему Linux и macOS похожи.
UNIX — проприетарная ОС, ставшая образцом благодаря своей архитектуре и философии.
POSIX — стандарт, описывающий интерфейсы между программой и ОС для обеспечения переносимости кода.
Он основан на опыте UNIX. Linux и macOS похожи, потому что обе следуют этому стандарту.
macOS является сертифицированной UNIX-системой (основана на BSD), а Linux — UNIX-подобной системой. Обе наследуют философию UNIX, имеют схожую иерархию файловой системы,
общие утилиты и принципы работы, что обеспечивает переносимость программ и удобство для администраторов.


6. Почему Linux — это не ОС? (Что добавить к ядру?)
Linux — это только ядро. Для получения полноценной операционной системы к нему необходимо добавить:
1) Системные библиотеки, главная из которых — библиотека языка C (glibc), предоставляющая интерфейс к системным вызовам;
2) Системные утилиты (оболочка bash, утилиты ls, cp — часто из проекта GNU);
3) Драйверы устройств (хотя многие встроены);
4) Интерфейс пользователя (графический сервер, среда рабочего стола);
5) Система инициализации (systemd);
6) Пользовательские приложения. Собранный комплект (ядро + ПО) — это и есть дистрибутив Linux (Ubuntu, Fedora), который является полноценной ОС.


7. Многоядерность процессора. Что такое ядро процессора?
Ядро процессора — это независимый вычислительный блок внутри одного физического процессорного чипа, способный выполнять поток инструкций.
У него есть свои арифметико-логическое устройство (АЛУ), регистры и кэш-память.
Многоядерный процессор содержит два и более таких ядер на одном кристалле, что позволяет выполнять несколько задач или частей одной задачи параллельно,
значительно повышая общую производительность в многозадачных и многопоточных приложениях.


8. Архитектура процессора: CISC и RISC с примерами.
Это два подхода к дизайну набора инструкций. CISC использует небольшое количество сложных, многофункциональных инструкций,
которые выполняются за несколько тактов с помощью микрокода. Цель — уменьшить количество инструкций в программе.
Пример: архитектура x86 (процессоры Intel, AMD). RISC использует большое количество простых, атомарных инструкций, каждая выполняется за один такт аппаратно.
Цель — упростить схему процессора, повысить тактовую частоту и эффективность конвейеризации.
Примеры: ARM (смартфоны, Apple M1/M2), RISC-V. Современные CISC-процессоры внутри декодируют сложные инструкции в простые RISC-подобные микрооперации.


9. Кэши процессора: что такое, зачем, уровни.
Кэш процессора — это сверхбыстрая, но небольшая память внутри процессора для временного хранения часто используемых данных и инструкций из оперативной памяти.
Он нужен, чтобы преодолеть огромную разницу в скорости между быстрым процессором и медленной RAM.
Иерархия кэшей: L1 — самый быстрый и маленький (32-64 КБ на ядро), разделен на кэш инструкций и данных;
L2 — побольше и помедленнее (256 КБ — 1 МБ), часто общий для пары ядер;
L3 — самый большой (8-64+ МБ) и медленный, но общий для всех ядер процессора, служит буфером для обмена данными между ядрами.
При запросе данных процессор ищет их сначала в L1, затем в L2, L3, и только потом в RAM.


10. Технология Hyper-Threading (Intel) / SMT (Simultaneous MultiThreading).
Эта технология позволяет одному физическому ядру процессора выполнять два или более логических потоков одновременно.
Физическое ядро содержит несколько наборов архитектурных регистров (для состояния каждого потока), но вычислительные блоки (АЛУ) и кэши общие.
Когда один поток ждет данных из памяти, ядро может быстро переключиться на выполнение инструкций другого потока, лучше загружая ресурсы ядра.
Это не удваивает производительность, но повышает общую эффективность на 15-30% в многопоточных задачах.
Например, 4-ядерный процессор с Hyper-Threading будет виден в системе как 8 логических процессоров. Аналогичная технология у AMD называется SMT.


11. Разница между HDD и SSD.
HDD — механическое устройство. Данные записываются на вращающиеся магнитные диски считывающими головками.
SSD — электронное устройство на основе флеш-памяти. Нет движущихся частей. SSD кардинально ускоряет работу системы: загрузку, запуск программ, работу с файлами.


12. Назвать минимум 3 ОС (кроме популярных) и кратко рассказать о них.
FreeBSD: Свободная UNIX-подобная ОС, произошедшая от BSD. Известна высокой надежностью, продвинутым сетевым стеком.
Используется на сетевых серверах, в системах хранения (например, TrueNAS) и как основа для других продуктов (часть кода используется в macOS).

Chrome OS: ОС от Google на базе ядра Linux. Изначально создана для работы с веб-приложениями на недорогих ноутбуках Chromebook.
Интерфейс — браузер Chrome. Со временем обзавелась поддержкой контейнеров Linux и Android-приложений, став более универсальной.

Solaris: Проприетарная UNIX-система от Sun Microsystems. Знаменита инновационными технологиями: файловая система ZFS, контейнеризация Zones, инструмент DTrace.
Ее открытая ветка — OpenSolaris.


13. Функции ядра ОС.
Основные функции ядра ОС: управление процессами и потоками (создание, планирование, синхронизация);
управление памятью (распределение, виртуальная память, подкачка);
управление устройствами через драйверы; управление файловыми системами; обеспечение безопасности и контроля доступа; обработка системных вызовов;
обработка прерываний и исключений; работа сетевого стека; обеспечение механизмов межпроцессного взаимодействия (IPC).


14. Что такое Win32API?
Win32API (Windows API) — это основной набор функций, интерфейсов и структур, предоставляемых операционной системой Microsoft Windows для разработчиков.
Это "язык", на котором программы общаются с Windows. Он включает тысячи функций для создания окон, работы с файлами, сетью, реестром и т.д.
Это более высокоуровневый интерфейс, чем системные вызовы в Linux. Примеры функций: CreateWindowEx(), ReadFile(), MessageBox().
Подавляющее большинство классических программ для Windows написаны с использованием Win32API напрямую или через фреймворки, которые его оборачивают.


15. Kernel-mode и user-mode драйверы.
Драйверы режима ядра выполняются с полными привилегиями, имеют прямой доступ к аппаратуре и памяти. Ошибка в таком драйвере приводит к краху всей системы (синему экрану).
Они используются для критических, высокопроизводительных устройств: видеокарт, дисковых контроллеров, сетевых карт.
Драйверы пользовательского режима выполняются с ограниченными правами, доступ к аппаратуре у них косвенный.
Их ошибка приводит лишь к падению процесса драйвера, что безопаснее для системы.
Они подходят для устройств, не требующих высокой производительности, например, для принтеров или сканеров (в Windows для них есть платформа UMDF).


16. Что такое системные библиотеки?
Системные библиотеки — это коллекции скомпилированных функций и процедур, которые могут использоваться программами.
Они предоставляют готовый, стандартизированный код для выполнения типовых задач.
Самая важная системная библиотека — библиотека языка C (libc), например, glibc в Linux или msvcrt в Windows.
Она предоставляет программисту интерфейс для системных вызовов (например, функция printf() внутри себя вызывает системный вызов write()).
Другие примеры: библиотеки для работы с графикой (OpenGL), сетью, математические библиотеки.


17. Что такое системные утилиты?
Системные утилиты — это специализированные программы, входящие в состав ОС и предназначенные для обслуживания, настройки, диагностики и управления системой.
Они являются связующим звеном между пользователем/администратором и ядром.В UNIX-системах многие утилиты следуют философии "делай одну вещь и делай её хорошо".


18. Оболочка ОС.
Оболочка ОС (shell) — это интерфейс для взаимодействия пользователя с операционной системой. Она принимает команды от пользователя и передает их ядру на выполнение.
Текстовая оболочка (командная строка), позволяет гибко и мощно управлять системой с помощью команд и скриптов.
Графическая оболочка — это среда рабочего стола (Desktop Environment), например, GNOME, KDE в Linux или рабочий стол Windows/macOS.
Она предоставляет визуальный интерфейс с окнами, значками и меню. Оболочка является внешним слоем системы, отдельным от ядра.


19. Ядерные архитектуры ОС (плюсы, минусы).
Основные архитектуры: Монолитное ядро — все компоненты ОС (управление процессами, памятью, файловой системой, драйверы) собраны в единый большой модуль,
работающий в режиме ядра. Плюсы: высокая производительность за счет быстрого взаимодействия компонентов внутри одного адресного пространства.
Минусы: сложность разработки и отладки, низкая отказоустойчивость — ошибка в драйвере может обрушить всю систему. Микроядро — в режиме ядра остается только минимальный набор функций 
(управление памятью, IPC, планирование), а драйверы, файловые системы и другие сервисы работают как изолированные процессы в пользовательском режиме.
Плюсы: высокая надежность и стабильность (сбой сервиса не крашит ядро), легче расширять и обновлять.
Минусы: более низкая производительность из-за частых переключений между режимами для взаимодействия компонентов.


20. Ядерная архитектура Linux и Windows.
Linux использует монолитное ядро с модулями.
Основное ядро монолитно, но многие драйверы и компоненты могут загружаться и выгружаться во время работы как динамически подключаемые модули.
Это сочетает производительность монолитного подхода с гибкостью.
Windows использует гибридное ядро (ядро NT).
Оно сочетает черты микроядра и монолитного ядра: как и в микроядре, некоторые сервисы (например, менеджер окон) работают в пользовательском режиме,
но ключевые компоненты (управление памятью, планировщик, сетевой стек, многие драйверы) работают в привилегированном режиме для повышения производительности.
Таким образом, ядро Windows более монолитно, чем классическое микроядро, но более модульно, чем чисто монолитное ядро Linux.


21. Загрузка ОС при запуске компьютера.
Процесс загрузки состоит из нескольких этапов:

Включение и POST. После нажатия кнопки питания BIOS/UEFI проводит самотестирование оборудования (POST).

Загрузчик BIOS/UEFI. BIOS ищет загрузочное устройство по заданному порядку, считывает с него главную загрузочную запись (MBR) или EFI-раздел (для UEFI) и передает
управление загрузчику ОС. Основные загрузчики: GRUB (в Linux), Bootmgr (в Windows).

Загрузка ядра. Загрузчик загружает в оперативную память ядро ОС и начальный RAM-диск (initramfs или initrd), содержащий временную корневую файловую систему и драйверы,
необходимые для монтирования реальной корневой файловой системы.

Инициализация ядра. Ядро распаковывается в памяти, инициализирует оборудование, загружает необходимые драйверы, монтирует корневую файловую систему
и запускает первый процесс пользовательского пространства. В Linux это обычно /sbin/init (теперь чаще systemd).

Запуск системы инициализации. Процесс init/systemd запускает все системные сервисы (сетевые, логин, демоны) согласно своим конфигурациям.

Запуск графической оболочки и входа в систему. Запускается дисплейный менеджер, представляющий экран входа.
После аутентификации пользователя запускается сессия с графической оболочкой или командной строкой.

